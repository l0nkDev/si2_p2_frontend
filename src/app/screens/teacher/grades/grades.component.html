<div style="height: 32px;"></div>
<h4 class="text-center text-primary mb-3">Notas trimestrales</h4>
<div style="height: 32px;"></div>
<div style="display: flex; justify-content: center; width: 100%;">  <div class="table-responsive">
    <table class="table table-hover table-bordered text-center align-middle small"
           style="border-collapse: separate; border-spacing: 0px;">
      <thead style="background-color: #e3f2fd;">
        <tr>
          <th><b>RUDE</b></th>
          <th><b>Estudiante</b></th>
          @for (entry of sem1t; track $index) {
            <th>
              <div class="btn-group" role="group" aria-label="Basic example">
                <input #title [value]="entry.title" class="form-control form-control-sm" style="min-width: 60px;">
                <button (click)="updateTarget(title.value, entry.id)" class="btn btn-outline-primary btn-sm">✏️</button>
                <button (click)="deleteTarget(entry.id)" class="btn btn-outline-danger btn-sm">🗑️</button>
              </div>
            </th>
          }
          <th>
            <button (click)="createTarget(1)" class="btn btn-outline-danger btn-sm">➕</button>
          </th>
          <th><b>1er Trimestre</b></th>
          @for (entry of sem2t; track $index) {
            <th>
              <div class="btn-group" role="group" aria-label="Basic example">
                <input #title [value]="entry.title" class="form-control form-control-sm" style="min-width: 60px;">
                <button (click)="updateTarget(title.value, entry.id)" class="btn btn-outline-primary btn-sm">✏️</button>
                <button (click)="deleteTarget(entry.id)" class="btn btn-outline-danger btn-sm">🗑️</button>
              </div>
            </th>
          }
          <th>
            <button (click)="createTarget(2)" class="btn btn-outline-danger btn-sm">➕</button>
          </th>
          <th><b>2do Trimestre</b></th>
          @for (entry of sem3t; track $index) {
            <th>
              <div class="btn-group" role="group" aria-label="Basic example">
                <input #title [value]="entry.title" class="form-control form-control-sm" style="min-width: 60px;">
                <button (click)="updateTarget(title.value, entry.id)" class="btn btn-outline-primary btn-sm">✏️</button>
                <button (click)="deleteTarget(entry.id)" class="btn btn-outline-danger btn-sm">🗑️</button>
              </div>
            </th>
          }
          <th>
            <button (click)="createTarget(3)" class="btn btn-outline-danger btn-sm">➕</button>
          </th>
          <th><b>3er Trimestre</b></th>
        </tr>
      </thead>
      <tbody>
        @for (entry of entries; track $index) {
          <tr>
            <td><input [value]="entry.rude" class="form-control form-control-sm" disabled style="min-width: 60px;"></td>
            <td><a class="form-control form-control-sm" disabled style="min-width: 120px;">
              {{entry.lname + " " + entry.name}}
            </a></td>
            @for (e of sem1t; track $index) {
            <td>
              <div class="btn-group" role="group" aria-label="Basic example">
                <input #score [value]="findValue(e, entry)" type="number" class="form-control form-control-sm" style="min-width: 60px;">
                <button (click)="updateScore(entry.id, e.id, score.value)" class="btn btn-outline-primary btn-sm">✏️</button>
              </div>
            </td>
            } <td></td><td><input [value]="getAverage(1, entry)" class="form-control form-control-sm" disabled style="min-width: 60px;"></td>
            @for (e of sem2t; track $index) {
            <td>
              <div class="btn-group" role="group" aria-label="Basic example">
                <input #score [value]="findValue(e, entry)" class="form-control form-control-sm" style="min-width: 60px;">
                <button (click)="updateScore(entry.id, e.id, score.value)" class="btn btn-outline-primary btn-sm">✏️</button>
              </div>
            </td>
            } <td></td><td><input [value]="getAverage(2, entry)" class="form-control form-control-sm" disabled style="min-width: 60px;"></td>
            @for (e of sem3t; track $index) {
            <td>
              <div class="btn-group" role="group" aria-label="Basic example">
                <input #score [value]="findValue(e, entry)" class="form-control form-control-sm" style="min-width: 60px;">
                <button (click)="updateScore(entry.id, e.id, score.value)" class="btn btn-outline-primary btn-sm">✏️</button>
              </div>
            </td>
            } <td></td><td><input [value]="getAverage(3, entry)" class="form-control form-control-sm" disabled style="min-width: 60px;"></td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>

